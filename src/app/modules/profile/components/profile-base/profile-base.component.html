<div #contentContainer [class.splitLayout]="SplitLayout" class="content-container">
  <mat-toolbar *ngIf="SplitLayout || !SelectedProfile" class="main-toolbar" color="accent">
    <button (click)="toggleGridTree()" mat-icon-button>
      <mat-icon>{{ View === 'tree' ? 'view_module' : 'account_tree'}}</mat-icon>
    </button>
    <div class="spacer"></div>
    <mat-form-field color="accent" floatLabel="never">
      <input [formControl]="Filter" matInput placeholder="Suche" type="text"/>
      <mat-icon *ngIf="Filter.value == ''" matSuffix svgIcon="search"></mat-icon>
      <mat-icon *ngIf="Filter.value != ''" matSuffix class="clear-filter" (click)="Filter.setValue('')">clear</mat-icon>
    </mat-form-field>
  </mat-toolbar>
  <mat-toolbar *ngIf="SelectedProfile" class="detail-toolbar" color="accent">
    {{ SelectedProfile.variety ? SelectedProfile.variety : SelectedProfile.mineralName }}
    <div class="spacer"></div>
    <button (click)="swipeLeft()" [disabled]="!CanSwipeLeft" mat-icon-button>
      <mat-icon>navigate_before</mat-icon>
    </button>
    <button (click)="selectProfile()" *ngIf="!SplitLayout" mat-icon-button>
      <mat-icon>expand_less</mat-icon>
    </button>
    <button (click)="swipeRight()" [disabled]="!CanSwipeRight" mat-icon-button>
      <mat-icon>navigate_next</mat-icon>
    </button>
  </mat-toolbar>
  <ng-container *ngIf="SplitLayout || !SelectedProfile">
    <ng-container [ngSwitch]="Filter.value !== '' || View">
      <app-profile-grid *ngSwitchCase="'grid'"></app-profile-grid>
      <app-profile-tree (onSelect)="selectProfile($event)" *ngSwitchCase="'tree'"
                        [profiles]="Profiles"
                        [selectedProfileId]="SelectedProfile ? SelectedProfile.id : undefined"></app-profile-tree>
      <app-profile-list (onSelect)="selectProfile($event)" *ngSwitchDefault [filterValue]="FilterValue.asObservable()"
                        [profiles]="Profiles"></app-profile-list>
    </ng-container>
  </ng-container>
  <ng-container *ngIf="SelectedProfile && SelectedCategory">
    <app-profile-detail [category]="SelectedCategory" [profile]="SelectedProfile"></app-profile-detail>
  </ng-container>
  <!--  <ng-container *ngIf="SplitLayout || !SelectedProfile">-->
  <!--    <mat-form-field color="accent">-->
  <!--      <mat-label>Suchen</mat-label>-->
  <!--      <input [formControl]="Filter" matInput type="text"/>-->
  <!--      <mat-icon *ngIf="Filter.value == ''" matSuffix svgIcon="search"></mat-icon>-->
  <!--      <mat-icon *ngIf="Filter.value != ''" matSuffix class="clear-filter" (click)="Filter.setValue('')">clear</mat-icon>-->
  <!--    </mat-form-field>-->
  <!--    <app-profile-list (onProfileSelect)="selectProfile($event)" *ngIf="Filter.value !== ''; else tree"-->
  <!--                      [profiles]="FilteredProfiles"></app-profile-list>-->
  <!--    <ng-template #tree>-->
  <!--      <app-profile-tree (onProfileSelect)="selectProfile($event)"-->
  <!--                        [selectedProfileId]="SelectedProfileId"></app-profile-tree>-->
  <!--    </ng-template>-->
  <!--  </ng-container>-->
  <!--  <ng-container *ngIf="SelectedProfile">-->
  <!--    <mat-toolbar color="accent">-->
  <!--      {{ SelectedProfile.variety ? SelectedProfile.variety : SelectedProfile.mineralName }}-->
  <!--      <div class="spacer"></div>-->
  <!--      <button (click)="swipeLeft()" [disabled]="!CanSwipeLeft" mat-icon-button>-->
  <!--        <mat-icon>navigate_before</mat-icon>-->
  <!--      </button>-->
  <!--      <button (click)="selectProfile()" *ngIf="!SplitLayout" mat-icon-button>-->
  <!--        <mat-icon>expand_less</mat-icon>-->
  <!--      </button>-->
  <!--      <button (click)="swipeRight()" [disabled]="!CanSwipeRight" mat-icon-button>-->
  <!--        <mat-icon>navigate_next</mat-icon>-->
  <!--      </button>-->
  <!--    </mat-toolbar>-->
  <!--    <app-profile-detail (panend)="onPanEnd($event)" [profileId]="SelectedProfile.id"></app-profile-detail>-->
  <!--  </ng-container>-->
</div>
