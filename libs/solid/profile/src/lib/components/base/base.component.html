<div #contentContainer [class.splitLayout]="SplitLayout" class="content-container">
  <mat-toolbar *ngIf="SplitLayout || !SelectedProfile" [class.full-width]="!SelectedProfile" class="main-toolbar"
               color="accent">
    <mat-form-field color="accent" floatLabel="never">
      <input [formControl]="Filter" matInput placeholder="Suche" type="text"/>
      <mat-icon *ngIf="Filter.value == ''" matSuffix svgIcon="search"></mat-icon>
      <mat-icon (click)="Filter.setValue('')" *ngIf="Filter.value != ''" class="clear-filter" matSuffix>clear</mat-icon>
    </mat-form-field>
    <div class="spacer"></div>
    <button (click)="toggleGridTree()" mat-icon-button>
      <mat-icon>{{ View === 'tree' ? 'view_module' : 'account_tree'}}</mat-icon>
    </button>
  </mat-toolbar>
  <mat-toolbar *ngIf="SelectedProfile" class="detail-toolbar" color="accent">
    {{ SelectedProfile.variety ? SelectedProfile.variety : SelectedProfile.mineralName }}
    <div class="spacer"></div>
    <button (click)="swipeLeft()" [disabled]="!CanSwipeLeft" mat-icon-button>
      <mat-icon>navigate_before</mat-icon>
    </button>
    <button (click)="selectProfile()" *ngIf="!SplitLayout" mat-icon-button>
      <mat-icon>expand_less</mat-icon>
    </button>
    <button (click)="swipeRight()" [disabled]="!CanSwipeRight" mat-icon-button>
      <mat-icon>navigate_next</mat-icon>
    </button>
  </mat-toolbar>
  <ng-container *ngIf="SplitLayout || !SelectedProfile">
    <ng-container [ngSwitch]="Filter.value !== '' || View">
      <solid-profile-grid (select)="selectProfile($event)" *ngSwitchCase="'grid'"
                          [class.full-width]="!SelectedProfile"
                          [profiles]="$profilesFlat"></solid-profile-grid>
      <solid-profile-tree (select)="selectProfile($event)" *ngSwitchCase="'tree'"
                          [profiles]="$profilesTree"
                          [selectedProfileId]="SelectedProfile ? SelectedProfile.id : undefined"></solid-profile-tree>
      <solid-profile-list (select)="selectProfile($event)" *ngSwitchDefault [filterValue]="FilterValue.asObservable()"
                          [profiles]="$profilesFlat"></solid-profile-list>
    </ng-container>
  </ng-container>
  <ng-container *ngIf="SelectedProfile && SelectedCategory">
    <solid-profile-detail [category]="SelectedCategory" [profile]="SelectedProfile"></solid-profile-detail>
  </ng-container>
</div>
